<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.javbus.spider.spider.dao.base.StarDao">
    <!-- starResultMap.xml -->
    <resultMap id="starResultMap" type="com.javbus.spider.spider.entity.base.Star">
        <id property="id" column="id" />
        <result property="name" column="name" />
        <result property="starLink" column="star_link" />
        <result property="photoLink" column="photo_link" />
        <result property="birthDay" column="birth_day" />
        <result property="age" column="age" />
        <result property="height" column="height" />
        <result property="cup" column="cup" />
        <result property="bust" column="bust" />
        <result property="waist" column="waist" />
        <result property="hip" column="hip" />
        <result property="birthPlace" column="birth_place" />
        <result property="hobby" column="hobby" />
        <result property="isCensored" column="is_censored" />
    </resultMap>
    <!-- 插入操作 -->
    <insert id="saveStar" parameterType="com.javbus.spider.spider.entity.base.Star"> INSERT IGNORE
        INTO star( name, star_link, photo_link, birth_day, age, height, cup, bust, waist, hip,
        birth_place, hobby, is_censored ) VALUES ( #{name}, #{starLink}, #{photoLink}, #{birthDay},
        #{age}, #{height}, #{cup}, #{bust}, #{waist}, #{hip}, #{birthPlace}, #{hobby},#{isCensored}
        ) </insert>

    <!-- 删除操作 -->
    <delete id="delete" parameterType="java.lang.Integer"> DELETE FROM star WHERE id = #{id} </delete>

    <!-- 查询操作 -->
    <select id="queryStarById" parameterType="java.lang.Integer"
        resultMap="starResultMap"> SELECT * FROM star WHERE id = #{id} </select>
    <select id="queryStarByName" parameterType="java.lang.String"
        resultMap="starResultMap"> SELECT * FROM star WHERE name = #{name} </select>

    <!-- 更新操作 -->
    <update id="update" parameterType="com.javbus.spider.spider.entity.base.Star"> UPDATE star SET
        name = #{name}, star_link = #{starLink}, photo_link = #{photoLink}, birth_day = #{birthDay},
        age = #{age}, height = #{height}, cup = #{cup}, bust = #{bust}, waist = #{waist}, hip =
        #{hip}, birth_place = #{birthPlace}, hobby = #{hobby} WHERE id = #{id} </update>

    <!-- saveStars -->
    <!-- 插入多个Star -->
    <insert id="saveStars" parameterType="List"> INSERT IGNORE INTO star (name, star_link,
        photo_link, birth_day, age, height, cup, bust, waist, hip, birth_place, hobby,is_censored)
        VALUES <foreach collection="list" item="star" separator=","> (#{star.name},
        #{star.starLink}, #{star.photoLink}, #{star.birthDay}, #{star.age}, #{star.height},
        #{star.cup}, #{star.bust}, #{star.waist}, #{star.hip}, #{star.birthPlace}, #{star.hobby},
        #{star.isCensored}) </foreach>
    </insert>

    <!-- queryStarIdsByNames -->

    <select id="queryStarIdsByNames" resultType="java.lang.Integer"> SELECT id FROM star WHERE name
        IN <foreach collection="list" item="names" open="(" separator="," close=")"> #{names} </foreach>
    </select>

    <!-- queryStarIdByName -->

    <select id="queryStarIdByName" parameterType="java.lang.Integer"> select id from star where
        name=#{name} </select>
</mapper>